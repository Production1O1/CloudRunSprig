/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_startedw

@title: 
@author: 
@tags: []
@addedOn: 2024-00-00dsaaaa
*/
const Smug = "i";
const player = "p";
const ccloud = "1"

const melody = tune`
37.5: B5^37.5 + A5^37.5 + G5^37.5 + F5^37.5 + G4^37.5,
37.5: B5-37.5 + A5-37.5 + G5-37.5 + F5-37.5 + E5-37.5,
37.5: B4^37.5 + A4^37.5 + G4^37.5 + D5~37.5 + E5~37.5,
37.5: D5~37.5 + C5~37.5 + B4~37.5 + A4~37.5 + G4~37.5,
1050` 

setLegend(
[ player, bitmap`
................
................
....0000000.....
...007777700....
..00777777700...
.0077077077700..
.0777277277770..
.0777277277770..
.0777277277770..
.0777277277770..
.0777777777770..
.0000000000000..
...0......0.....
...0......0.....
55.0......0..55.
57777....777775.` ],
  [Smug, bitmap`
................
......0000......
.....000000.....
....0030030.....
....0000000.....
.....000000.....
.....LLLLLL.....
...LLLLL........
...LLLLLL..11111
...L.LLLLL011111
...00LLL...11...
.....LLL....1...
.....00.........
.....000........
....000000......
...000.000......`], 
  [ccloud, bitmap`
.....77777777777
....772222222777
...7722777722277
...7227...772277
...777.....72277
...........72227.................................
...........77227
............7227
............7227
....777.....7227
....727....72227
....72777.772227
....722227722227
....722222222277
....777722222777
.......77777777.`],
  );
let level = 0 
const levels = [
  map`
...i......................
..........................
...ii.....................
..........................
...i......................
....i.....................
...i......................
..........................
...ii.....................
..........................
p..i......................
....i.....................
...i......................
..........................
...ii.....................
..........................
...i......................
....i.....................
..........................
...i......................
...i......................`,
  map`
...........
...........
...........
...........
p..........`,
  map`
p..`,
  ];

const currentLevel = levels[level];
setMap(currentLevel);

setPushables({
  [ player ]: []
})
onInput("s", () => {
  getFirst(player).y += 1;
playTune(melody);
});

onInput("w", () => {
  getFirst(player).y -= 1;
playTune(melody);
});

onInput("a", () => {
  getFirst(player).x -= 1;
playTune(melody);
});

onInput("d", () => {
  getFirst(player).x += 1;
playTune(melody);
})

afterInput(() => {
  });
